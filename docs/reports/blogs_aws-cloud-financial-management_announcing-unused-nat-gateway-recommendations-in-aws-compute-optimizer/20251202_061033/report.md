---
title: åœ¨AWS Compute Optimizerä¸­å®£å¸ƒæ¨å‡ºæœªä½¿ç”¨çš„NATç½‘å…³æ¨èåŠŸèƒ½
publish_date: 2025-11-26
original_url: https://aws.amazon.com/blogs/aws-cloud-financial-management/announcing-unused-nat-gateway-recommendations-in-aws-compute-optimizer/
validation_date: 2025-12-02
target_region: cn-northwest-1
feasibility: LOW
available_services: 4
unavailable_services: 2
---

# åœ¨AWS Compute Optimizerä¸­å®£å¸ƒæ¨å‡ºæœªä½¿ç”¨çš„NATç½‘å…³æ¨èåŠŸèƒ½

[ğŸ“– æŸ¥çœ‹åŸå§‹åšå®¢](https://aws.amazon.com/blogs/aws-cloud-financial-management/announcing-unused-nat-gateway-recommendations-in-aws-compute-optimizer/) | éªŒè¯æ—¥æœŸ: 2025-12-02

## å¯è¡Œæ€§è¯„ä¼°

!!! danger "LOW - ä¸å»ºè®®å®æ–½"
    æ ¸å¿ƒæœåŠ¡AWS Compute Optimizerçš„é—²ç½®èµ„æºæ¨èåŠŸèƒ½åœ¨ä¸­å›½åŒºåŸŸä¸å¯ç”¨ï¼Œæ— æ³•å®ç°æ–‡ç« æè¿°çš„ä¸»è¦åŠŸèƒ½

æ–‡ç« ä»‹ç»çš„AWS Compute Optimizeré—²ç½®NATç½‘å…³æ£€æµ‹åŠŸèƒ½åœ¨ä¸­å›½åŒºåŸŸï¼ˆcn-northwest-1ï¼‰ä¸å—æ”¯æŒã€‚è™½ç„¶åŸºç¡€çš„NAT Gatewayã€VPCã€CloudWatchå’ŒLambdaæœåŠ¡åœ¨ä¸­å›½åŒºåŸŸå¯ç”¨ï¼Œä½†æ ¸å¿ƒåŠŸèƒ½GetIdleRecommendations APIå’ŒCost Optimization Hubåœ¨ä¸­å›½åŒºåŸŸå‡ä¸å¯ç”¨ï¼Œå¯¼è‡´æ–‡ç« æè¿°çš„ä¸»è¦åŠŸèƒ½æ— æ³•å®æ–½ã€‚

## æœåŠ¡åˆ†æ

### å¯ç”¨æœåŠ¡ (4ä¸ª)

- **NAT Gateway** - ç½‘ç»œåœ°å€è½¬æ¢ç½‘å…³æœåŠ¡
- **Amazon VPC** - è™šæ‹Ÿç§æœ‰äº‘
- **Amazon CloudWatch** - ç›‘æ§å’Œå¯è§‚æµ‹æ€§æœåŠ¡
- **AWS Lambda** - æ— æœåŠ¡å™¨è®¡ç®—æœåŠ¡

### ä¸å¯ç”¨æœåŠ¡ (2ä¸ª)

- **AWS Compute Optimizer (é—²ç½®èµ„æºæ¨èåŠŸèƒ½)** - æ ¸å¿ƒæœåŠ¡
- **AWS Cost Optimization Hub** - æ ¸å¿ƒæœåŠ¡

### è¯„ä¼°è¯´æ˜

é€šè¿‡å®é™…APIè°ƒç”¨éªŒè¯ï¼Œå‘ç°ä»¥ä¸‹å…³é”®é—®é¢˜ï¼š

1. **Compute Optimizeré—²ç½®èµ„æºæ¨èä¸å¯ç”¨**ï¼šè°ƒç”¨`GetIdleRecommendations` APIæ—¶è¿”å›é”™è¯¯ï¼š"This operation is not supported for the specified account in this Region"ï¼Œè¡¨æ˜è¯¥åŠŸèƒ½åœ¨ä¸­å›½åŒºåŸŸä¸å—æ”¯æŒã€‚

2. **Cost Optimization Hubä¸å¯ç”¨**ï¼šè¯¥æœåŠ¡åœ¨ä¸­å›½åŒºåŸŸæ— æ³•è®¿é—®ï¼Œæ–‡ç« æåˆ°çš„é›†æˆåŠŸèƒ½æ— æ³•ä½¿ç”¨ã€‚

3. **åŸºç¡€æœåŠ¡å¯ç”¨**ï¼šNAT Gatewayã€VPCã€CloudWatchç­‰åŸºç¡€æœåŠ¡åœ¨ä¸­å›½åŒºåŸŸæ­£å¸¸å¯ç”¨ï¼ŒåŒ…æ‹¬æ–‡ç« æåˆ°çš„CloudWatchæŒ‡æ ‡ï¼ˆActiveConnectionCountã€PacketsInFromSourceã€PacketsInFromDestinationï¼‰éƒ½å¯ä»¥æ­£å¸¸æ”¶é›†ã€‚

4. **åŠŸèƒ½ç¼ºå¤±å½±å“**ï¼šè™½ç„¶å¯ä»¥æ‰‹åŠ¨é€šè¿‡CloudWatchç›‘æ§NAT Gatewayçš„ä½¿ç”¨æƒ…å†µï¼Œä½†æ— æ³•è·å¾—Compute Optimizeræä¾›çš„è‡ªåŠ¨åŒ–é—²ç½®èµ„æºæ£€æµ‹ã€æˆæœ¬èŠ‚çœä¼°ç®—å’Œä¼˜åŒ–å»ºè®®ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## éªŒè¯ç»“æœ

### éªŒè¯ç±»å‹

â­ï¸ å·²è·³è¿‡ï¼ˆå¯è¡Œæ€§ç­‰çº§ä¸ºLOWï¼‰

### æ‰§è¡ŒçŠ¶æ€

**çŠ¶æ€**: â­ï¸ å·²è·³è¿‡

**åŸå› **: æ ¸å¿ƒæœåŠ¡AWS Compute Optimizerçš„é—²ç½®èµ„æºæ¨èåŠŸèƒ½åœ¨ä¸­å›½åŒºåŸŸä¸å—æ”¯æŒï¼Œæ— æ³•è¿›è¡Œå®é™…åŠŸèƒ½éªŒè¯ã€‚å·²é€šè¿‡APIè°ƒç”¨ç¡®è®¤æœåŠ¡ä¸å¯ç”¨æ€§ã€‚

## å®æ–½å»ºè®®

### æ¨èæ–¹æ¡ˆ

**ä¸å»ºè®®ç›´æ¥å®æ–½**

æ–‡ç« ä»‹ç»çš„AWS Compute Optimizeré—²ç½®NATç½‘å…³æ£€æµ‹åŠŸèƒ½åœ¨ä¸­å›½åŒºåŸŸæ— æ³•ä½¿ç”¨ã€‚è¯¥åŠŸèƒ½ä¾èµ–äºCompute OptimizeræœåŠ¡çš„ç‰¹å®šAPIï¼ˆGetIdleRecommendationsï¼‰ï¼Œè¯¥APIåœ¨ä¸­å›½åŒºåŸŸæ˜ç¡®ä¸å—æ”¯æŒã€‚

### æ›¿ä»£æ–¹æ¡ˆ

1. **æ‰‹åŠ¨CloudWatchç›‘æ§æ–¹æ¡ˆ**
   - å®æ–½æ–¹å¼ï¼šåˆ›å»ºCloudWatchä»ªè¡¨æ¿ï¼Œç›‘æ§NAT Gatewayçš„å…³é”®æŒ‡æ ‡ï¼ˆActiveConnectionCountã€PacketsInFromSourceã€PacketsInFromDestinationï¼‰ï¼Œè®¾ç½®32å¤©çš„ç›‘æ§å‘¨æœŸï¼Œæ‰‹åŠ¨åˆ†æè¯†åˆ«é—²ç½®èµ„æº
   - å¤æ‚åº¦ï¼šä¸­
   - é€‚ç”¨åœºæ™¯ï¼šNAT Gatewayæ•°é‡è¾ƒå°‘ï¼ˆ<20ä¸ªï¼‰çš„ç¯å¢ƒï¼Œå¯ä»¥æ¥å—æ‰‹åŠ¨åˆ†æçš„å·¥ä½œé‡

2. **è‡ªå®šä¹‰Lambdaè‡ªåŠ¨åŒ–æ–¹æ¡ˆ**
   - å®æ–½æ–¹å¼ï¼šå¼€å‘Lambdaå‡½æ•°å®šæœŸæŸ¥è¯¢CloudWatchæŒ‡æ ‡ï¼Œå®ç°ç±»ä¼¼Compute Optimizerçš„æ£€æµ‹é€»è¾‘ï¼ŒåŒ…æ‹¬æ£€æŸ¥è·¯ç”±è¡¨å…³è”ã€åˆ†ææµé‡æ¨¡å¼ã€ç”ŸæˆæŠ¥å‘Šå’Œæˆæœ¬ä¼°ç®—
   - å¤æ‚åº¦ï¼šé«˜
   - é€‚ç”¨åœºæ™¯ï¼šNAT Gatewayæ•°é‡è¾ƒå¤šï¼Œéœ€è¦è‡ªåŠ¨åŒ–æ£€æµ‹å’ŒæŠ¥å‘Šçš„å¤§è§„æ¨¡ç¯å¢ƒ

3. **AWS Configè§„åˆ™æ–¹æ¡ˆ**
   - å®æ–½æ–¹å¼ï¼šä½¿ç”¨AWS Configåˆ›å»ºè‡ªå®šä¹‰è§„åˆ™ï¼Œå®šæœŸè¯„ä¼°NAT Gatewayçš„ä½¿ç”¨çŠ¶æ€ï¼Œç»“åˆCloudWatchæŒ‡æ ‡è¿›è¡Œåˆè§„æ€§æ£€æŸ¥
   - å¤æ‚åº¦ï¼šä¸­
   - é€‚ç”¨åœºæ™¯ï¼šå·²ç»ä½¿ç”¨AWS Configè¿›è¡Œèµ„æºç®¡ç†çš„ç¯å¢ƒï¼Œå¯ä»¥é›†æˆåˆ°ç°æœ‰åˆè§„æ€§æ¡†æ¶ä¸­

### é£é™©æç¤º

- **åŠŸèƒ½å·®è·**ï¼šä»»ä½•æ›¿ä»£æ–¹æ¡ˆéƒ½æ— æ³•å®Œå…¨å¤åˆ¶Compute Optimizerçš„æ™ºèƒ½åˆ†æèƒ½åŠ›ï¼Œç‰¹åˆ«æ˜¯åœ¨è¯†åˆ«ç¾éš¾æ¢å¤é…ç½®å’Œå¤‡ç”¨èµ„æºæ–¹é¢
- **ç»´æŠ¤æˆæœ¬**ï¼šè‡ªå®šä¹‰è§£å†³æ–¹æ¡ˆéœ€è¦æŒç»­ç»´æŠ¤å’Œæ›´æ–°ï¼Œå¢åŠ è¿ç»´è´Ÿæ‹…
- **å‡†ç¡®æ€§é£é™©**ï¼šæ‰‹åŠ¨æˆ–è‡ªå®šä¹‰æ–¹æ¡ˆå¯èƒ½è¯¯åˆ¤å¤‡ç”¨NAT Gatewayä¸ºé—²ç½®èµ„æºï¼Œå¯¼è‡´åˆ é™¤å…³é”®çš„ç¾éš¾æ¢å¤ç»„ä»¶
- **æˆæœ¬ä¼°ç®—**ï¼šæ›¿ä»£æ–¹æ¡ˆéš¾ä»¥æä¾›å‡†ç¡®çš„æˆæœ¬èŠ‚çœä¼°ç®—ï¼Œéœ€è¦é¢å¤–å¼€å‘æˆæœ¬è®¡ç®—é€»è¾‘
- **é›†æˆé™åˆ¶**ï¼šæ— æ³•ä¸Cost Optimization Hubé›†æˆï¼Œç¼ºå°‘ç»Ÿä¸€çš„æˆæœ¬ä¼˜åŒ–è§†å›¾

### é…å¥—èµ„æº

**æ— GitHubé¡¹ç›®**

æ–‡ç« ä¸ºäº§å“åŠŸèƒ½å‘å¸ƒå…¬å‘Šï¼Œä¸åŒ…å«é…å¥—çš„GitHubé¡¹ç›®æˆ–ä»£ç ç¤ºä¾‹ã€‚
